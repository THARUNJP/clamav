# Enable TCP socket
TCPSocket 3310

# Listen on all interfaces
TCPAddr 0.0.0.0

# Run in foreground (required for Docker)
Foreground true

# Log to stdout
LogSyslog false
LogFacility LOG_LOCAL6
LogVerbose true

# Database locations
DatabaseDirectory /var/lib/clamav
DatabaseMirror database.clamav.net

# Performance tuning for container environments
MaxThreads 12
MaxConnectionQueueLength 30
StreamMaxLength 50M
MaxScanSize 50M
MaxFileSize 50M
MaxRecursion 10
MaxFiles 5000
README.md (optional)

markdown
# ClamAV on Railway

This repository deploys a ClamAV antivirus server on Railway.

## Configuration
- Listens on TCP port 3310
- Auto-updates virus definitions every 2 hours
- Optimized for container environments

## Deployment
1. Push to Railway
2. Expose port 3310
3. Set at least 1GB of memory allocation
Deployment Notes:
Make sure Railway is configured to:

Expose port 3310

Allocate at least 1GB of memory (ClamAV is memory-intensive)

Set no health checks (or use TCP port 3310 check)

The container will:

Start freshclam daemon for automatic updates

Run clamd in foreground

Listen on port 3310 for incoming scan requests

To test after deployment:

bash
telnet your-railway-url.up.railway.app 3310
(You should see ClamAV banner if working)

This setup ensures proper operation in Railway's container environment with automatic definition updates and proper resource allocation.

New chat
